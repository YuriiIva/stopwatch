(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={find:"FindContacts_find__372A-",input:"FindContacts_input__4fWyi",title:"FindContacts_title__-IvSF"}},15:function(t,e,n){t.exports={item:"contacts_item__2tTD7",btn:"contacts_btn__3HcCm"}},36:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getContacts",(function(){return C})),n.d(a,"addContact",(function(){return v})),n.d(a,"editContacts",(function(){return x})),n.d(a,"deleteContacts",(function(){return y}));var c=n(0),r=n.n(c),o=n(10),i=n.n(o),s=n(5),d=n(16),u=n(6),l=n(17),f=n.n(l),b=n(7),j=n(13),p=n.n(j),h=n(18),m="https://61c4aa46f1af4a0017d9972f.mockapi.io",O=function(){var t=Object(h.a)(p.a.mark((function t(e){var n,a,c=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=3,fetch("".concat(m,"/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g="contacts",C=Object(s.b)("contacts/getContactsStatus",(function(){return O(g,t);var t})),v=Object(s.b)("contacts/addContactsStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(b.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return O(t,a)}(g,t)})),x=Object(s.b)("contacts/editContactsStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(b.a)({method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return O("".concat(t,"/").concat(e.id),a)}(g,t)})),y=Object(s.b)("contacts/deleteContactsStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O("".concat(t,"/").concat(e),Object(b.a)({method:"DELETE"},n))}(g,t)})),_=Object(s.c)({name:"contacts",initialState:{data:{items:[],loading:!1,error:null},filter:""},reducers:{changeFilter:function(t,e){var n=e.payload;t.filter=n}},extraReducers:function(t){t.addCase(C.pending,(function(t){t.data.loading=!0,t.data.error=null})).addCase(C.fulfilled,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.items=n})).addCase(C.rejected,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.error=n})).addCase(v.pending,(function(t){t.data.loading=!0,t.data.error=null})).addCase(v.fulfilled,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.items.push(n)})).addCase(v.rejected,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.error=n})).addCase(x.pending,(function(t){t.data.loading=!0,t.data.error=null})).addCase(x.fulfilled,(function(t,e){var n=e.payload;t.data.loading=!1;var a=t.data.items.findIndex((function(t){return t.id===n.id}));t.data.items[a]=n})).addCase(x.rejected,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.error=n})).addCase(y.pending,(function(t){t.data.loading=!0,t.data.error=null})).addCase(y.fulfilled,(function(t,e){var n=e.payload;t.data.loading=!1;var a=t.data.items.findIndex((function(t){return t.id===n.id}));t.data.items.splice(a,1)})).addCase(y.rejected,(function(t,e){var n=e.payload;t.data.loading=!1,t.data.error=n}))}}),F=_.actions.changeFilter,S=_.reducer,N={key:"items",storage:f.a,whitelist:["items"],blacklist:["filter"]},w=Object(d.createLogger)({collapsed:function(t,e,n){return!n.error},timestamp:!1}),k=Object(s.a)({reducer:{contacts:Object(u.g)(N,S)},middleware:function(t){return t({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e]}}).concat(w)},devTools:!1}),T=Object(u.h)(k),I=n(4),A=n(20),E=(n(36),n(15)),D=n.n(E),J=n(1),P=function(t){var e=t.items,n=t.onDaleteCard;return Object(J.jsx)("div",{children:Object(J.jsx)("ul",{children:e.map((function(t){var e=t.name,a=t.phone,c=t.id;return Object(J.jsxs)("li",{className:D.a.item,children:[Object(J.jsxs)("p",{children:[e,":",a]}),Object(J.jsx)("button",{type:"submit",onClick:function(){return n(c)},className:D.a.btn,children:"Delete"})]},c)}))})})},z=n(11),L=n.n(z),Z=function(){var t=Object(I.c)((function(t){return t.contacts.filter})),e=Object(I.b)();return Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{className:L.a.title,children:"Contacts"}),Object(J.jsx)("form",{action:"",children:Object(J.jsxs)("label",{className:L.a.find,children:["Finde contacts by name",Object(J.jsx)("input",{type:"text",className:L.a.input,value:t,onChange:function(t){return e(F(t.target.value))}})]})})]})},B=n(9),M=n(8),U=n.n(M),q=n(22),G=function(){var t=Object(I.c)((function(t){return t.contacts.data.items})),e=Object(c.useState)(""),n=Object(B.a)(e,2),r=n[0],o=n[1],i=Object(c.useState)(""),s=Object(B.a)(i,2),d=s[0],u=s[1],l=Object(c.useState)(""),f=Object(B.a)(l,2),b=(f[0],f[1]),j=Object(c.useState)({}),p=Object(B.a)(j,2),h=p[0],m=p[1],O=Object(I.b)();Object(c.useEffect)((function(){O(a.addContact(h))}),[O,h]);var g=function(){o(""),u(""),b("")};return Object(J.jsxs)("div",{children:[Object(J.jsxs)("h1",{className:U.a.title,children:[Object(J.jsx)(q.a,{}),"Phonebook"]}),Object(J.jsxs)("form",{className:U.a.form,onSubmit:function(e){e.preventDefault(),t.some((function(t){return r===t.name}))?alert("".concat(r," is alredy in contact")):(m({name:r,phone:d}),g())},children:[Object(J.jsxs)("label",{htmlFor:"",className:U.a.label,children:["name",Object(J.jsx)("input",{type:"text",name:"name",value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(t){return o(t.target.value)},required:!0})]}),Object(J.jsxs)("label",{htmlFor:"",className:U.a.label,children:["phone",Object(J.jsx)("input",{type:"tel",name:"phone",value:d,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:function(t){return u(t.target.value)},required:!0})]}),Object(J.jsx)("button",{type:"submit",className:U.a.button,children:"add contact"})]})]})},H=a.getContacts,K=a.deleteContacts,R=function(){var t=Object(I.c)((function(t){return t.contacts.data.items})),e=Object(I.c)((function(t){return t.contacts.filter})),n=Object(I.b)();Object(c.useEffect)((function(){n(H())}),[n]);return Object(J.jsxs)("div",{className:"main",children:[Object(J.jsx)(G,{}),Object(J.jsx)(Z,{}),Object(J.jsx)(P,{items:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),onDaleteCard:function(t){n(K(t))}})]})},W=n(21),X=n.n(W),$=function(){return Object(J.jsx)(X.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,class:"lod"})};i.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(I.a,{store:k,children:Object(J.jsx)(A.a,{loading:Object(J.jsx)($,{}),persistor:T,children:Object(J.jsx)(R,{})})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"InputContacts_form__GZK3_",label:"InputContacts_label__1aefF",button:"InputContacts_button__1_9Jn",title:"InputContacts_title__3eXMi"}}},[[56,1,2]]]);
//# sourceMappingURL=main.29c24246.chunk.js.map